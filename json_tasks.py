#4.4.1

# import json
#
# countries = {'Monaco': 'Monaco', 'Iceland': 'Reykjavik', 'Kenya': 'Nairobi', 'Kazakhstan': 'Nur-Sultan',
#              'Mali': 'Bamako', 'Colombia': 'Bogota', 'Finland': 'Helsinki', 'Costa Rica': 'San Jose',
#              'Cuba': 'Havana', 'France': 'Paris', 'Gabon': 'Libreville', 'Liberia': 'Monrovia',
#              'Angola': 'Luanda', 'India': 'New Delhi', 'Canada': 'Ottawa', 'Australia': 'Canberra'}
#
# countries_json = json.dumps(countries, separators=(',', ' - '), indent='   ',sort_keys=True)
#
# print(countries_json)

#4.4.2
# import json
#
# words = {
#          frozenset(["tap", "telephone"]): ("t√¶p", "telif…ôun"),
#          "travel": "tr√¶vl",
#          ("hello", "world"): ("h…ôÀàl…ô ä", "w…úÀêld"),
#          "moonlight": "muÀên.la…™t",
#          "sunshine": "Ààs ån. Éa…™n",
#          ("why", "is", "so", "difficult"): ("wa…™", "…™z", "s…ô ä", "Ààd…™f…™k…ôlt"),
#          "adventure": "…ôdÀàvent É…ôr",
#          "beautiful": "ÀàbjuÀêt…™fl",
#          frozenset(["spoon", "block"]): ("spu:n", "bl…îk"),
#          "bicycle": "baisikl",
#          ("pilot", "fly"): ("pail…ôt", "flai")
#         }
#
# data_json = json.dumps(words,skipkeys=True)
#
# print(data_json)
#4.4.3
# import json
#
# club1 = {"name": "FC Byern Munchen", "country": "Germany", "founded": 1900,
#          "trainer": "Julian Nagelsmann", "goalkeeper": "M. Neuer", "league_position": 1}
#
# club2 = {"name": "FC Barcelona", "country": "Spain", "founded": 1899,
#          "trainer": "Xavier Creus", "goalkeeper": "M. Ter Stegen", "league_position": 7}
#
# club3 = {"name": "FC Manchester United", "country": "England", "founded": 1878,
#          "trainer": "Michael Carrick", "goalkeeper": "D. De Gea", "league_position": 8}
#
# my_list = [club1,club2, club3]
# with open('data.json', 'w', encoding='UTF-8') as file:
#     json.dump(my_list, file, indent=3)

#4.4.4.
# import json
#
# specs = {
#          '–ú–æ–¥–µ–ª—å': 'AMD Ryzen 5 5600G',
#          '–ì–æ–¥ —Ä–µ–ª–∏–∑–∞': 2021,
#          '–°–æ–∫–µ—Ç': 'AM4',
#          '–¢–µ—Ö–ø—Ä–æ—Ü–µ—Å—Å': '7 –Ω–º',
#          '–Ø–¥—Ä–æ': 'Cezanne',
#          '–û–±—ä–µ–º –∫—ç—à–∞ L2': '3 –ú–ë',
#          '–û–±—ä–µ–º –∫—ç—à–∞ L3': '16 –ú–ë',
#          '–ë–∞–∑–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞': '3900 –ú–ì—Ü'
#         }
#
# specs_json = json.dumps(specs, ensure_ascii=False,indent=3)
#
# print(specs_json)


#4.4.5.
# –§—É–Ω–∫—Ü–∏—è is_correct_json()
# –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é is_correct_json(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç:
#
# string ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
# –§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å True, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ string —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É JSON, –∏–ª–∏ False –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –í—Å–ø–æ–º–Ω–∏—Ç–µ –ø—Ä–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é try-except –∏–∑ —É—Ä–æ–∫–∞.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –í —Ç–µ—Å—Ç–∏—Ä—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Å–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ñ—É–Ω–∫—Ü–∏—é is_correct_json(), –Ω–æ –Ω–µ –∫–æ–¥, –≤—ã–∑—ã–≤–∞—é—â–∏–π –µ–µ.

def is_correct_json(string):
    import json
    try:
        l = json.loads(string)
        return True
    except:
        return False

#4.4.6
# –≠–ª–µ–º–µ–Ω—Ç—ã JSON
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –∏ –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.
#
# –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
# –ù–∞ –≤—Ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø–æ–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
#
# –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
# –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ –≤—Å–µ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —Ä–∞–∑–¥–µ–ª—è—è –∫–ª—é—á –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–≤–æ–µ—Ç–æ—á–∏–µ–º, –∫–∞–∂–¥—É—é –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–ª—é—á–∞ —è–≤–ª—è–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫, —Ç–æ –≤—Å–µ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–≤–µ–¥–µ–Ω—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ü–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Å–≤–æ–µ–º –∏—Å—Ö–æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –î–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Å—Ç—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ç–æ–∫–æ–≤—ã–π –≤–≤–æ–¥ sys.stdin.

# import json
#
# string = json.loads(''.join([i for i in open(0)]))   #data = json.loads(sys.stdin.read())
# for k, v in string.items():
#     if isinstance(v, list):
#         v = ', '.join(map(str, v))
#
#     print(f'{k}: {v}')

#4.4.7
# –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª data.json, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:
#
# [
#    "nwkWXma",
#    null,
#    {
#       "ISgHT": "dIUbf"
#    },
#    "Pzt",
#    "BXcbGVTE",
#    ...
# ]
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç —Å–ø–∏—Å–æ–∫, —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ—Å—è –≤ —Ñ–∞–π–ª–µ data.json, –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:
#
# –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π, –≤ –µ–≥–æ –∫–æ–Ω–µ—Ü –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∑–Ω–∞–∫
# –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º, –æ–Ω —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É
# –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º, –æ–Ω –∏–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è
# –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Å–ø–∏—Å–∫–æ–º, –æ–Ω —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è
# –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è JSON-–æ–±—ä–µ–∫—Ç–æ–º (—Å–ª–æ–≤–∞—Ä–µ–º), –≤ –Ω–µ–≥–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è –ø–∞—Ä–∞ "newkey": null
# –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –ø—É—Å—Ç—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º (null), –æ–Ω –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è
# –ü–æ–ª—É—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª updated_data.json.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –±—ã —Ñ–∞–π–ª data.json –∏–º–µ–ª –≤–∏–¥:
#
# ["Hello", 179, true, null, [1, 2, 3], {"key": "value"}]
# —Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –±—ã —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª updated_data.json —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:
#
# ["Hello!", 180, false, [1, 2, 3, 1, 2, 3], {"key": "value", "newkey": null}]

# import json
#
# with open('data.json', 'r',  encoding='UTF-8') as file:
#     jdata = json.load(file)
#
# res =[]
# for i in jdata:
#
#     if isinstance(i,str):
#         temp = i + '!'
#         res.append(temp)
#     elif isinstance(i, bool):
#         temp = not i
#         res.append(temp)
#     elif isinstance(i,int) or isinstance(i,float):
#         temp =  i + 1
#         res.append(temp)
#     elif isinstance(i, list):
#         temp = i * 2
#         res.append(temp)
#     elif isinstance(i, dict):
#         temp = i
#         temp['newkey'] = None
#         res.append(temp)
#     elif i is None:
#         continue
#
# with open('updated_data.json','w',encoding='UTF-8') as file:
#     json.dump(res,file,indent=3)

###examples
# import json
#
# opers = {'str': lambda x: x + '!',
#          'int': lambda x: x + 1,
#          'float': lambda x: x + 1,
#          'bool': lambda x: not x,
#          'list': lambda x: x * 2,
#          'dict': lambda x: x | {'newkey': None}}
#
# with open('data.json', encoding='utf8') as fi, open('updated_data.json', 'w', encoding='utf8') as fo:
# 	json.dump([opers[type(i).__name__](i) for i in json.load(fi) if type(i).__name__ in opers], fo, indent=3)


# import json
#
# with open('data.json', encoding='utf-8') as file, open('updated_data.json', 'w', encoding='utf-8') as new_file:
#     data = json.load(file)
#     conv_values = {
#         str: lambda x: x + '!',
#         int: lambda x: x + 1,
#         bool: lambda x: not x,
#         list: lambda x: x * 2,
#         dict: lambda x: {**x, "newkey": None},
#     }
#     new_data = []
#     for d in data:
#         if type(d) in conv_values:
#             new_data.append(conv_values[type(d)](d))
#     json.dump(new_data, new_file, indent=2)


#4.4.8
# –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
# –í–∞–º –¥–æ—Å—Ç—É–ø–Ω—ã –¥–≤–∞ —Ñ–∞–π–ª–∞ data1.json –∏ data2.json, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º—É JSON-–æ–±—ä–µ–∫—Ç—É:
#
# {
#    "Holly-Anne": [
#       33,
#       "failed"
#    ],
#    "Caty": [
#       36,
#       "failed"
#    ],
#    ...
# }
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–≤–∞ –¥–∞–Ω–Ω—ã—Ö JSON-–æ–±—ä–µ–∫—Ç–∞ –≤ –æ–¥–∏–Ω JSON-–æ–±—ä–µ–∫—Ç, –ø—Ä–∏—á–µ–º –µ—Å–ª–∏ –ø–∞—Ä—ã –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∏ –≤—Ç–æ—Ä–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–º–µ—é—Ç —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ –∫–ª—é—á–∏, —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç –≤–∑—è—Ç—å –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π JSON-–æ–±—ä–µ–∫—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª data_merge.json.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –±—ã —Ñ–∞–π–ª—ã data1.json –∏ data2.json –∏–º–µ–ª–∏ –≤–∏–¥:
#
# {
#    "Timur": 99,
#    "Anri": 97
# }
# {
#    "Dima": 99,
#    "Anri": 100
# }
# —Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –±—ã —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª data_merge.json —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:
#
# {
#    "Anri": 100,
#    "Dima": 99,
#    "Timur": 99
# }
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –≠–ª–µ–º–µ–Ω—Ç—ã –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–º JSON-–æ–±—ä–µ–∫—Ç–µ –º–æ–≥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –£–∫–∞–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–µ –∏ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.

# import json
#
# with open('data1.json', 'r',encoding='UTF-8') as f1:
#     data1 = json.load(f1)
#
# with open('data2.json', 'r', encoding='UTF-8') as f2:
#     data2 = json.load(f2)
#
# new_dict ={**data1, **data2}
# with open('data_merge.json','w',encoding='UTF-8') as file:
#     json.dump(new_dict, file, indent=3)

# ###examples

# import json
#
# with open('data1.json', encoding='Utf-8') as file1, \
#      open('data2.json', encoding='utf-8') as file2, \
#      open('data_merge.json', 'w') as outer:
#     data1, data2=json.load(file1), json.load(file2)
#     json.dump(data1|data2, outer)


#4.4.9.
#
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–ª—é—á–µ–π
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª people.json, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ JSON-–æ–±—ä–µ–∫—Ç–æ–≤. –ü—Ä–∏—á–µ–º —É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π:
#
# [
#    {
#       "age": 33,
#       "country": "Lesotho",
#       "phone": "(927) 316-2249",
#       "family_status": "married",
#       "email": "neonatus@outlook.com"
#    },
#    {
#       "age": 25,
#       "country": "Guinea",
#       "name": "Dorey",
#       "children": "yes",
#       "email": "ismail@gmail.com",
#       "university": "Khalifa University",
#       "family_status": "married"
#    },
#    ...
# ]
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –∫–∞–∂–¥—ã–π JSON-–æ–±—ä–µ–∫—Ç –∏–∑ –¥–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≤—Å–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–ª—é—á–∏, –ø—Ä–∏—Å–≤–∞–∏–≤–∞—è —ç—Ç–∏–º –∫–ª—é—á–∞–º –∑–Ω–∞—á–µ–Ω–∏–µ null. –ö–ª—é—á —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–º, –µ—Å–ª–∏ –æ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–∞–∫–æ–º-–ª–∏–±–æ –¥—Ä—É–≥–æ–º –æ–±—ä–µ–∫—Ç–µ, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–∞–Ω–Ω–æ–º. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ JSON-–æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –∑–∞–ø–∏—Å–∞—Ç—å –µ–≥–æ –≤ —Ñ–∞–π–ª updated_people.json.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. JSON-–æ–±—ä–µ–∫—Ç—ã –≤ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–æ–π —Å–ø–∏—Å–∫–µ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Å–≤–æ–µ–º –∏—Å—Ö–æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –ü–æ—Ä—è–¥–æ–∫ –∫–ª—é—á–µ–π –≤ JSON-–æ–±—ä–µ–∫—Ç–∞—Ö –Ω–µ –≤–∞–∂–µ–Ω.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –±—ã —Ñ–∞–π–ª people.json –∏–º–µ–ª –≤–∏–¥:
#
# [
#    {
#       "age": 33,
#       "country": "Lesotho"
#    },
#    {
#       "age": 25,
#       "country": "Guinea",
#       "name": "Dorey"
#    }
# ]
# —Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª–∞ updated_people.json —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:
#
# [
#    {
#       "age": 33,
#       "country": "Lesotho"
#       "name": null
#    },
#    {
#       "age": 25,
#       "country": "Guinea",
#       "name": "Dorey"
#    }
# ]

#
# import json
#
# with open('people.json','r',encoding='UTF-8') as f:
#     data = json.load(f)
# res = []
# key_list = []
# for i in data:
#     for j in i.keys():
#         if j not in key_list:
#             key_list.append(j)
# for i in data:
#     temp_dict = {k:None for k in key_list}
#     temp_dict = temp_dict | i
#     res.append(temp_dict)
# with open('updated_people.json','w',encoding='UTF-8') as file:
#     json.dump(res,file,indent=3)
#
# ### examples
# import json
#
# with open('people.json', encoding='utf8') as fi, open('updated_people.json', 'w') as fo:
#     people = json.load(fi)
#     d = {k: None for i in people for k in i.keys()}
#     json.dump([d | i for i in people], fo)


#
# ####
# import json
#
#
# with open('people.json', encoding='utf-8') as js:
#     content = json.load(js)
#
# keys = set()
# for data in content:
#     keys |= data.keys()
#
# for data in content:
#     data |= dict.fromkeys(keys - data.keys())
#
# with open('updated_people.json', 'w') as js:
#     json.dump(content, js, indent=3)

# 4.4.10

# –Ø –∏—Å–ø–æ–≤–µ–¥—É—é Python, –∞ —Ç—ã?
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª countries.json, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ JSON-–æ–±—ä–µ–∫—Ç–æ–≤ c –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—Ä–∞–Ω–∞—Ö –∏ –∏—Å–ø–æ–≤–µ–¥—É–µ–º—ã—Ö –≤ –Ω–∏—Ö —Ä–µ–ª–∏–≥–∏—è—Ö:
# 
# [
#    {
#       "country": "Afghanistan",
#       "religion": "Islam"
#    },
#    {
#       "country": "Albania",
#       "religion": "Islam"
#    },
#    ...
# ]
# –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –∞—Ç—Ä–∏–±—É—Ç–∞:
# 
# country ‚Äî —Å—Ç—Ä–∞–Ω–∞
# religion ‚Äî –∏—Å–ø–æ–≤–µ–¥—É–µ–º–∞—è —Ä–µ–ª–∏–≥–∏—è
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π JSON-–æ–±—ä–µ–∫—Ç, –∏–º–µ—é—â–∏–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–≥–∏–∏, –∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∏—Å–ø–æ–≤–µ–¥—É–µ—Ç—Å—è –¥–∞–Ω–Ω–∞—è —Ä–µ–ª–∏–≥–∏—è. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π JSON-–æ–±—ä–µ–∫—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª religion.json.
# 
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –°—Ç—Ä–∞–Ω—ã –≤ —Å–ø–∏—Å–∫–∞—Ö –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Å–≤–æ–µ–º –∏—Å—Ö–æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
# 
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –ù–∞—á–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ñ–∞–π–ª–∞ religion.json –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
# 
# {
#    "Islam":[
#       "Afghanistan",
#       "Albania",
#       "Algeria",
#       ...
#    ],
#    ...
# }
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
# 
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.

#
# import json
#
# with open('countries.json','r',encoding='UTF-8') as f:
#     data = json.load(f)
# religions = {}
# for i in data:
#     if i['religion'] not in religions.keys():
#         religions[i['religion']] = []
# for i in data:
#     religions[i['religion']] += [i['country']]
#
# with open('religion.json', 'w') as out:
#     json.dump(religions, out, indent=3)
# ###examples
# import json
#
# with open("countries.json") as file_in, open("religion.json", "w") as file_out:
#
#     d = {}
#     datas = json.load(file_in)
#     for data in datas:
#         d[data['religion']] = d.get(data['religion'], []) + [data['country']]
#
#     json.dump(d, file_out)

#4.4.11
# –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª playgrounds.csv —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö –ú–æ—Å–∫–≤—ã. –í –ø–µ—Ä–≤–æ–º —Å—Ç–æ–ª–±—Ü–µ –∑–∞–ø–∏—Å–∞–Ω —Ç–∏–ø –ø–ª–æ—â–∞–¥–∫–∏,  –≤–æ –≤—Ç–æ—Ä–æ–º ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥, –≤ —Ç—Ä–µ—Ç—å–µ–º ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–π–æ–Ω–∞, –≤ —á–µ—Ç–≤–µ—Ä—Ç–æ–º ‚Äî –∞–¥—Ä–µ—Å:
#
# ObjectName;AdmArea;District;Address
# –ü–∞—Ä–∫, –æ–∑–µ–ª–µ–Ω–µ–Ω–Ω–∞—è –≥–æ—Ä–æ–¥—Å–∫–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è ¬´–õ–∏–∞–Ω–æ–∑–æ–≤—Å–∫–∏–π –ø–∞—Ä–∫ –∫—É–ª—å—Ç—É—Ä—ã –∏ –æ—Ç–¥—ã—Ö–∞¬ª;–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥;—Ä–∞–π–æ–Ω –õ–∏–∞–Ω–æ–∑–æ–≤–æ;–£–≥–ª–∏—á—Å–∫–∞—è —É–ª–∏—Ü–∞, –¥–æ–º 13
# ...
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —Å–æ–∑–¥–∞—é—â—É—é JSON-–æ–±—ä–µ–∫—Ç, –∫–ª—é—á–æ–º –≤ –∫–æ—Ç–æ—Ä–æ–º —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º ‚Äî JSON-–æ–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –∫–ª—é—á–æ–º —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–π–æ–Ω–∞, –æ—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫ —ç—Ç–æ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–º—É –æ–∫—Ä—É–≥—É, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º ‚Äî —Å–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤ –≤—Å–µ—Ö –ø–ª–æ—â–∞–¥–æ–∫ –≤ —ç—Ç–æ–º —Ä–∞–π–æ–Ω–µ. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π JSON-–æ–±—ä–µ–∫—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª addresses.json.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ê–¥—Ä–µ—Å–∞ –≤ —Å–ø–∏—Å–∫–∞—Ö –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Å–≤–æ–µ–º –∏—Å—Ö–æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º –≤ —Ñ–∞–π–ª–µ playgrounds.csv —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π, –ø—Ä–∏ —ç—Ç–æ–º –∫–∞–≤—ã—á–∫–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –ù–∞—á–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ñ–∞–π–ª–∞ addresses.json –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
#
# {
#    "–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥": {
#       "—Ä–∞–π–æ–Ω –õ–∏–∞–Ω–æ–∑–æ–≤–æ": [
#          "–£–≥–ª–∏—á—Å–∫–∞—è —É–ª–∏—Ü–∞, –¥–æ–º 13",
#          "–ê–ª—Ç—É—Ñ—å–µ–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, –¥–æ–º 147–ê"
#       ],
#       "—Ä–∞–π–æ–Ω –û—Ç—Ä–∞–¥–Ω–æ–µ": [
#          "–ê–ª—Ç—É—Ñ—å–µ–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, –¥–æ–º 20–ê",
#          "–Æ—Ä–ª–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∑–¥, –¥–æ–º 8, —Å—Ç—Ä–æ–µ–Ω–∏–µ 1",
#          "–Æ—Ä–ª–æ–≤—Å–∫–∏–π –ø—Ä–æ–µ–∑–¥, –¥–æ–º 8, —Å—Ç—Ä–æ–µ–Ω–∏–µ 1"
#       ],
#       ...
#    },
#    ...
# }
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 5. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.
# import csv,json
# with open('playgrounds.csv', 'r', encoding='UTF-8') as inp:
#
#     reader = list(csv.DictReader(inp, delimiter =';'))
#
# admareas = [str(i['AdmArea']) for i in reader]
#
# res = {i: {reader[j]['District']:[reader[k]['Address'] for k in range(len(reader)) if reader[k]['District'] == reader[j]['District'] ] for j in range(len(reader)) if reader[j]['AdmArea'] == i } for i in [str(i['AdmArea']) for i in reader]}
# with open('addresses.json','w', encoding='UTF-8') as out:
#     json.dump(res, out, indent=3, ensure_ascii=False)




#4.4.12
# –°—Ç—É–¥–µ–Ω—Ç—ã –∫—É—Ä—Å–∞
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª students.json, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ JSON-–æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—É–¥–µ–Ω—Ç–∞—Ö –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –∫—É—Ä—Å–∞:
#
# [
#    {
#       "name": "Holly-Anne",
#       "city": "Abilene",
#       "age": 29,
#       "progress": 85,
#       "phone": "(802) 983-9126"
#    },
#    ...
# ]
# –ü–æ–¥ ¬´—Å—Ç—É–¥–µ–Ω—Ç–æ–º¬ª –º—ã –±—É–¥–µ–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å –æ–¥–∏–Ω JSON-–æ–±—ä–µ–∫—Ç –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞. –£ —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏–º–µ—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã:
#
# name ‚Äî –∏–º—è
# city ‚Äî –≥–æ—Ä–æ–¥ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è
# age ‚Äî –≤–æ–∑—Ä–∞—Å—Ç
# progress ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—É—Ä—Å—É –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
# phone‚Äî –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏—Ö —Å–ª–µ–¥—É—é—â–∏–º —É—Å–ª–æ–≤–∏—è–º:
#
# –≤–æ–∑—Ä–∞—Å—Ç
# 18
# 18 –ª–µ—Ç –∏–ª–∏ –±–æ–ª–µ–µ
# –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—É—Ä—Å—É
# 75
# %
# 75% –∏–ª–∏ –±–æ–ª–µ–µ
# –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª data.csv —Å –¥–≤—É–º—è —Å—Ç–æ–ª–±—Ü–∞–º–∏ ‚Äî name (–∏–º—è) –∏ phone (–Ω–æ–º–µ—Ä), –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –Ω–µ–≥–æ –¥–∞–Ω–Ω—ã–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–∏–≤ –∏—Ö –≤ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –∏–º—ë–Ω. –í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –≤ —Ñ–∞–π–ª–µ data.csv –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∑–∞–ø—è—Ç–∞—è.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤—Å–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –∏–º–µ—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∏–º–µ–Ω–∞.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –ù–∞—á–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ñ–∞–π–ª–∞ data.csv –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
#
# name,phone
# Cary,(580) 476-8517
# Catarina,(237) 608-2757
# Catherin,(876) 215-3666
# ...
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.
# import json, csv
# with open('students.json','r',encoding='UTF-8') as f:
#     data = json.load(f)
# res = []
# for d in data:
#     if d['age'] >= 18 and d['progress'] >= 75:
#         res.append((d['name'], d['phone']))
#
# res = sorted(res, key=lambda x: x[0])
#
#
# out = 'datajsonout.csv'
# with open(out, 'w',encoding='UTF-8', newline='') as outf:
#     writer = csv.DictWriter(outf, fieldnames=['name','phone'], delimiter=',')
#     writer.writeheader()
#     for row in res:
#         writer.writerow({'name': row[0], 'phone': row[1]})


# 4.4.13
#
# –ë–∞—Å—Å–µ–π–Ω—ã
# –¢–∏–º—É—Ä –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø–æ–π—Ç–∏ –≤ –±–∞—Å—Å–µ–π–Ω. –°—Ä–µ–¥–∏ –≤—Å–µ—Ö –±–∞—Å—Å–µ–π–Ω–æ–≤ –µ–º—É –ø–æ–¥—Ö–æ–¥—è—Ç —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫—Ä—ã—Ç—ã –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ –ø–µ—Ä–∏–æ–¥ —Å 10:00 –¥–æ 12:00. –¢–∞–∫–∂–µ –µ–º—É –Ω—Ä–∞–≤–∏—Ç—Å—è –ø–ª–∞–≤–∞—Ç—å –ø–æ –¥–ª–∏–Ω–Ω—ã–º –¥–æ—Ä–æ–∂–∫–∞–º, –ø–æ—ç—Ç–æ–º—É –∏–∑ –≤—Å–µ—Ö —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ —ç—Ç–æ –≤—Ä–µ–º—è –±–∞—Å—Å–µ–π–Ω–æ–≤ –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –±–∞—Å—Å–µ–π–Ω —Å –Ω–∞–∏–±–æ–ª—å—à–µ–π –¥–ª–∏–Ω–æ–π –¥–æ—Ä–æ–∂–∫–∏, –ø—Ä–∏ —Ä–∞–≤–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö ‚Äî c –Ω–∞–∏–±–æ–ª—å—à–µ–π —à–∏—Ä–∏–Ω–æ–π.
#
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª pools.json, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ JSON-–æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫—Ä—ã—Ç—ã—Ö –ø–ª–∞–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –±–∞—Å—Å–µ–π–Ω–∞—Ö:
#
# [
#    {
#       "ObjectName": "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å —Å –±–∞—Å—Å–µ–π–Ω–æ–º ¬´–ì–ë–£ ¬´–°–®–û–† ‚Ññ 82¬ª –ú–æ—Å–∫–æ–º—Å–ø–æ—Ä—Ç–∞¬ª",
#       "AdmArea": "–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥",
#       "District": "–ê–ª—Ç—É—Ñ—å–µ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω",
#       "Address": "–ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è —É–ª–∏—Ü–∞, –¥–æ–º 5, –∫–æ—Ä–ø—É—Å 1",
#       "WorkingHoursSummer": {
#          "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": "10:00-11:00",
#          "–í—Ç–æ—Ä–Ω–∏–∫": "10:00-11:00",
#          "–°—Ä–µ–¥–∞": "10:00-11:00",
#          "–ß–µ—Ç–≤–µ—Ä–≥": "10:00-11:00",
#          "–ü—è—Ç–Ω–∏—Ü–∞": "10:00-11:00",
#          "–°—É–±–±–æ—Ç–∞": "10:00-11:00",
#          "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": "09:00-15:00",
#       },
#       "DimensionsSummer": {
#          "Square": 350,
#          "Length": 25,
#          "Width": 14,
#          "Depth": 1.8
#       }
#    },
#    ...
# ]
# –ü–æ–¥ ¬´–±–∞—Å—Å–µ–π–Ω–æ–º¬ª –±—É–¥–µ–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å –æ–¥–∏–Ω JSON-–æ–±—ä–µ–∫—Ç –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞. –£ –±–∞—Å—Å–µ–π–Ω–∞ –∏–º–µ—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã:
#
# ObjectName ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ, –±—É–¥—å —Ç–æ —Ñ–∏—Ç–Ω–µ—Å –∫–ª—É–± –∏–ª–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å
# AdmArea ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥
# District ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–π–æ–Ω–∞
# Address ‚Äî –∞–¥—Ä–µ—Å
# WorkingHoursSummer ‚Äî –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã, –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –∑–∞–∫—Ä—ã—Ç–∏—è —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM
# DimensionsSummer ‚Äî —Ä–∞–∑–º–µ—Ä—ã –±–∞—Å—Å–µ–π–Ω–∞, –≥–¥–µ Square ‚Äî –ø–ª–æ—â–∞–¥—å, Length ‚Äî –¥–ª–∏–Ω–∞, Width ‚Äî —à–∏—Ä–∏–Ω–∞, Depth ‚Äî –≥–ª—É–±–∏–Ω–∞
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞—Å—Å–µ–π–Ω, –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¢–∏–º—É—Ä—É. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ –µ–≥–æ —Ä–∞–∑–º–µ—Ä—ã –∏ –∞–¥—Ä–µ—Å –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
#
# <–¥–ª–∏–Ω–∞>x<—à–∏—Ä–∏–Ω–∞>
# <–∞–¥—Ä–µ—Å>
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
#
# 25x16
# –ü–∏—Å—Ü–æ–≤–∞—è —É–ª–∏—Ü–∞, –¥–æ–º 12, —Å—Ç—Ä–æ–µ–Ω–∏–µ 1
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –ë–∞—Å—Å–µ–π–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –≤–æ –≤—Ä–µ–º—è –≤—Å–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ —Å 10:00 –¥–æ 12:00. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –±–∞—Å—Å–µ–π–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 10:00, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 11:30, –æ–Ω –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.

# import json, datetime
# with open('pools.json','r',encoding='UTF-8') as f:
#     data = json.load(f)
# res = []
# for i in data:
#     working_hours_monday = [datetime.datetime.strptime(j, '%H:%M').time() for j in i['WorkingHoursSummer']['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫'].split('-')]
#     if working_hours_monday[0] <= datetime.time(10, 0) and working_hours_monday[1] >= datetime.time(12, 0):
#         res.append([i['Address'],(i['DimensionsSummer']['Length'],i['DimensionsSummer']['Width'])])
# res = sorted(res, key=lambda x: (x[1][0], x[1][1]), reverse=True)
#
# print(f'{res[0][1][0]}x{res[0][1][1]}\n{res[0][0]}')


# #4.4.14
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–∞ üå∂Ô∏è
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª exam_results.csv, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—à–µ–¥—à–µ–º —ç–∫–∑–∞–º–µ–Ω–µ –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º —É—á–µ–±–Ω–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏. –í –ø–µ—Ä–≤–æ–º —Å—Ç–æ–ª–±—Ü–µ –∑–∞–ø–∏—Å–∞–Ω–æ –∏–º—è —Å—Ç—É–¥–µ–Ω—Ç–∞, –≤–æ –≤—Ç–æ—Ä–æ–º ‚Äî —Ñ–∞–º–∏–ª–∏—è, –≤ —Ç—Ä–µ—Ç—å–µ–º ‚Äî –æ—Ü–µ–Ω–∫–∞ –∑–∞ —ç–∫–∑–∞–º–µ–Ω, –≤ —á–µ—Ç–≤–µ—Ä—Ç–æ–º ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–¥–∞—á–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD HH:MM:SS, –≤ –ø—è—Ç–æ–º ‚Äî –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã:
#
# name,surname,score,date_and_time,email
# Jayson,Edwards,2,2021-11-10 10:00:00,sonnen@yahoo.com
# April,Sims,3,2021-11-01 11:00:00,retoh@outlook.com
# ...
# –ö–∞–∂–¥—ã–π —Å—Ç—É–¥–µ–Ω—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –ø–µ—Ä–µ—Å–¥–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω –¥–≤–∞ —Ä–∞–∑–∞, –ø–æ—ç—Ç–æ–º—É –æ–Ω –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –¥–æ —Ç—Ä—ë—Ö —Ä–∞–∑ —Å —Ä–∞–∑–ª–∏—á–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º —Å–¥–∞—á–∏.
#
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ–≥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É, –∞ —Ç–∞–∫–∂–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –µ–µ –ø–æ–ª—É—á–µ–Ω–∏—è. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ:
#
# name ‚Äî –∏–º—è —Å—Ç—É–¥–µ–Ω—Ç–∞
# surname ‚Äî —Ñ–∞–º–∏–ª–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞
# best_score ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∑–∞ —ç–∫–∑–∞–º–µ–Ω
# date_and_time ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
# email ‚Äî –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã
# –ü–æ–ª—É—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª best_scores.json, –ø—Ä–∏—á–µ–º —Å–ª–æ–≤–∞—Ä–∏ –≤ —Å–ø–∏—Å–∫–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –Ω–∞–∑–≤–∞–Ω–∏–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –ø–æ—á—Ç.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ï—Å–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Å–¥–∞—á–µ —Å—Ç—É–¥–µ–Ω—Ç –ø–æ–ª—É—á–∏–ª —Ç–∞–∫—É—é –∂–µ –æ—Ü–µ–Ω–∫—É, —á—Ç–æ –∏ –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑, —Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞—Ç—ã —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É –ø–µ—Ä–µ—Å–¥–∞—á–∏.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –≤ —Ñ–∞–π–ª–µ exam_results.csv –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–ø—è—Ç–∞—è, –ø—Ä–∏ —ç—Ç–æ–º –∫–∞–≤—ã—á–∫–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –ù–∞—á–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ñ–∞–π–ª–∞ best_scores.json –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
#
# [
#    {
#       "name": "Stephen",
#       "surname": "Farley",
#       "best_score": 3,
#       "date_and_time": "2021-11-12 12:00:00",
#       "email": "aardo@mac.com"
#    },
#    {
#       "name": "Kaylen",
#       "surname": "Horne",
#       "best_score": 4,
#       "date_and_time": "2021-11-09 11:00:00",
#       "email": "aaribaud@att.net"
#    },
#    ...
# ]
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 5. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.

# import csv,datetime, json
#
# with open('exam_results.csv', 'r', encoding='UTF-8') as inp:
#
#     reader = list(csv.DictReader(inp, delimiter =','))
#
# all_students_emails = list(dict.fromkeys([i['email'] for i in reader]))
# res = [[email, {}] for email in all_students_emails]
#
# for student in reader:
#     idx = all_students_emails.index(student['email'])
#     is_student = res[idx][1].get('best_score', None)
#     if not is_student:
#         res[idx] =[student['email'], {"name": student['name'],
#                            "surname": student['surname'],
#                            "best_score": int(student['score']),
#                            "date_and_time": student['date_and_time'],
#                            "email": student['email']
#                            }]
#     else:
#         if int(student['score']) > res[idx][1].get('best_score', None):
#             res[idx][1]['best_score'] = int(student['score'])
#             res[idx][1]['date_and_time'] = student['date_and_time']
#
#         elif int(student['score']) == res[idx][1].get('best_score', None) and datetime.datetime.strptime(student['date_and_time'],'%Y-%m-%d %H:%M:%S') > datetime.datetime.strptime(res[idx][1].get('date_and_time', None),'%Y-%m-%d %H:%M:%S'):
#             res[idx][1]['date_and_time'] = student['date_and_time']
#
# res = [i[1] for i in sorted(res, key = lambda x:x[1]['email'])]
#
# with open('best_scores.json', 'w', encoding='UTF-8') as outf:
#     json.dump(res, outf, indent=3)


### examples
# import csv
# import json
#
# result = {}
# with open('exam_results.csv', encoding='utf-8') as ex_r:
#     rows = csv.DictReader(ex_r)  # 1
#     for row in rows:
#         row['best_score'] = int(row.pop('score'))  # 2
#         r = result.get(row['email'], row)  # 3
#         best_row = max(r, row, key=lambda item: (item['best_score'], item['date_and_time']))  # 4
#         result[row['email']] = best_row  # 5
#
# with open('best_scores.json', 'w', encoding='utf-8') as bs:
#     out = sorted(result.values(), key=lambda item: item['email'])  # 6
#     json.dump(out, bs, indent=3)  # 7



#4.4.15
# –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ üò•
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª food_services.json, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ JSON-–æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–≤–µ–¥–µ–Ω–∏—è—Ö –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è:
#
# [
#    {
#       "Name": "–°–ú–ï–¢–ê–ù–ê",
#       "IsNetObject": "–Ω–µ—Ç",
#       "OperatingCompany": "",
#       "TypeObject": "–∫–∞—Ñ–µ",
#       "AdmArea": "–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥",
#       "District": "–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω",
#       "Address": "–≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª–∏—Ü–∞ –ï–≥–æ—Ä–∞ –ê–±–∞–∫—É–º–æ–≤–∞, –¥–æ–º 9",
#       "SeatsCount": 48
#    },
#    ...
# ]
# –ü–æ–¥ ¬´–∑–∞–≤–µ–¥–µ–Ω–∏–µ–º¬ª –±—É–¥–µ–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å –æ–¥–∏–Ω JSON-–æ–±—ä–µ–∫—Ç –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞. –£ –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏–º–µ—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã:
#
# Name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ
# IsNetObject ‚Äî –¥–∞\–Ω–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–∞–≤–µ–¥–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–º
# OperatingCompany ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∏
# TypeObject ‚Äî –≤–∏–¥ (–∫–∞—Ñ–µ, —Å—Ç–æ–ª–æ–≤–∞—è, —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∏ —Ç.–¥.)
# AdmArea ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞
# District ‚Äî —Ä–∞–π–æ–Ω
# Address ‚Äî –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å
# SeatsCount ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è:
#
# –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–π–æ–Ω –ú–æ—Å–∫–≤—ã, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏–π, –∏ –≤—ã–≤–æ–¥–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ–¥–µ–Ω–∏–π –≤ –Ω–µ–º
# –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–µ—Ç—å —Å —Å–∞–º—ã–º –±–æ–ª—å—à–∏–º —á–∏—Å–ª–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–π –∏ –≤—ã–≤–æ–¥–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–æ–π —Å–µ—Ç–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ–¥–µ–Ω–∏–π —ç—Ç–æ–π —Å–µ—Ç–∏
# –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
#
# <—Ä–∞–π–æ–Ω>: <–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ–¥–µ–Ω–∏–π>
# <–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∏>: <–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ–¥–µ–Ω–∏–π>
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –∏—Å–∫–æ–º–∞—è —Å–µ—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
#
# —Ä–∞–π–æ–Ω –ú–µ—Ç—Ä–æ–≥–æ—Ä–æ–¥–æ–∫: 456
# –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –ø–µ–∫–∞—Ä–Ω—è SeDelice: 144
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.
#
# import json
# with open('food_services.json','r',encoding='UTF-8') as f:
#     data = json.load(f)
# # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–π–æ–Ω
# districts = {k:0 for k in set([i['District'] for i in data])}
# for i in data:
#     districts[i['District']] +=1
# maximum = max(districts.values())
#
# for k, v in districts.items():
#     if v == maximum:
#         print(f'{k}: {v}')
#         break
# # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–µ—Ç—å
# nets = []
# for i in data:
#     if i['IsNetObject'] == "–¥–∞":
#         nets.append(i['OperatingCompany'])
#
# biggest_net = [0,'']
# for i in set(nets):
#     count = nets.count(i)
#     if biggest_net[0] < count:
#         biggest_net = [count,i]
# print(f'{biggest_net[1]}: {biggest_net[0]}')


###examples
# import json, csv
# from datetime import datetime
#
# with open('food_services.json', 'r', encoding='utf-8') as file:
#     l = list(json.load(file))
# d1, d2 = {}, {} #d1 –¥–ª—è —Ä–∞–π–æ–Ω–æ–≤, d2 –¥–ª—è —Å–µ—Ç–∏
# for i in l:
#     d1[i['District']] = d1.get(i['District'], 0)+1
#     if i['OperatingCompany']:
#         d2[i['OperatingCompany']] = d2.get(i['OperatingCompany'], 0)+1
#
# x1 = max(d1.items(), key=lambda x: x[1])
# x2 = max(d2.items(), key=lambda x: x[1])
#
# print(f'{x1[0]}: {x1[1]}')
# # print(f'{x2[0]}: {x2[1]}')
# #####
# import json
#
# with open("food_services.json", "r", encoding="utf-8") as f:
#     cafes = list(json.load(f))
#     dst = [i["District"] for i in cafes]
#     cmp = [i["OperatingCompany"] for i in cafes if i["OperatingCompany"]]
#     mfd, mfc = max(set(dst), key=dst.count), max(set(cmp), key=cmp.count)
#     print(f"{mfd}: {dst.count(mfd)}\n{mfc}: {cmp.count(mfc)}")

#
# #####
# with open('food_services.json', encoding='utf-8') as file:
#     d, d1, op, s = {}, {}, 'OperatingCompany', lambda x: max(x, key=x.get)
#     for i in __import__('json').load(file):
#         d[i['District']] = d.get(i['District'], 0) + 1
#         if i[op]:
#             d1[i[op]] = d1.get(i[op], 0) + 1
#     print(f'{s(d)}: {d[s(d)]}\n{s(d1)}: {d1[s(d1)]}')


#4.4.16
#
# –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ üò∞
# –í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ñ–∞–π–ª food_services.json, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–ø–∏—Å–æ–∫ JSON-–æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–≤–µ–¥–µ–Ω–∏—è—Ö –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è:
#
# [
#    {
#       "Name": "–°–ú–ï–¢–ê–ù–ê",
#       "IsNetObject": "–Ω–µ—Ç",
#       "OperatingCompany": "",
#       "TypeObject": "–∫–∞—Ñ–µ",
#       "AdmArea": "–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –æ–∫—Ä—É–≥",
#       "District": "–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω",
#       "Address": "–≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª–∏—Ü–∞ –ï–≥–æ—Ä–∞ –ê–±–∞–∫—É–º–æ–≤–∞, –¥–æ–º 9",
#       "SeatsCount": 48
#    },
#    ...
# ]
# –ü–æ–¥ ¬´–∑–∞–≤–µ–¥–µ–Ω–∏–µ–º¬ª –±—É–¥–µ–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å –æ–¥–∏–Ω JSON-–æ–±—ä–µ–∫—Ç –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞. –£ –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏–º–µ—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã:
#
# Name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ
# IsNetObject ‚Äî –¥–∞\–Ω–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–∞–≤–µ–¥–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–º
# OperatingCompany ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∏
# TypeObject ‚Äî –≤–∏–¥ (–∫–∞—Ñ–µ, —Å—Ç–æ–ª–æ–≤–∞—è, —Ä–µ—Å—Ç–æ—Ä–∞–Ω –∏ —Ç.–¥.)
# AdmArea ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞
# District ‚Äî —Ä–∞–π–æ–Ω
# Address ‚Äî –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å
# SeatsCount ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö –º–µ—Å—Ç
# –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Å–µ –≤–∏–¥—ã –∑–∞–≤–µ–¥–µ–Ω–∏–π –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –≤–∏–¥–∞ (–∏–º–µ–µ—Ç –Ω–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö –º–µ—Å—Ç). –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ –≤—Å–µ –≤–∏–¥—ã –∑–∞–≤–µ–¥–µ–Ω–∏–π –≤ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ, —É–∫–∞–∑–∞–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö –º–µ—Å—Ç –≤ –Ω–µ–º. –î–∞–Ω–Ω—ã–µ –æ –∑–∞–≤–µ–¥–µ–Ω–∏—è—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –∫–∞–∂–¥—ã–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
#
# <–≤–∏–¥ –∑–∞–≤–µ–¥–µ–Ω–∏—è>: <–Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è>, <–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö –º–µ—Å—Ç>
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ù–∞—á–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
#
# –±–∞—Ä: –ë–∞—Ä–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ü–†–û–§–°–û–Æ–ó, 800
# –±—É—Ñ–µ—Ç: –°–¢–û–õ–û–í–ê–Ø - –ö–ê–ù–¢–ò–ù–ê–°–ò–¢–ò, 320
# –∑–∞–∫—É—Å–æ—á–Ω–∞—è: –ë—É—Ä–≥–µ—Ä–Ω–∞—è FAR–®, 74
# ...
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.
#
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.


import json, time
start=time.perf_counter()
with open('food_services.json','r',encoding='UTF-8') as f:
    data = json.load(f)

food_places = {}
for i in data:
    food_places.setdefault(i["TypeObject"], {}).setdefault(i['Address'], (i["SeatsCount"], i['Name']))

food_places = dict(sorted(food_places.items(), key=lambda item: item[0]))

for k, v in food_places.items():
    maximum = sorted(v.values(), key = lambda x: x[0], reverse=True)[0]
    print(f'{k}: {maximum[1]}, {maximum[0]}')
print(time.perf_counter()-start)
##examples
# import json,time
# start = time.perf_counter()
#
# with open('food_services.json', 'r', encoding='utf-8') as f1:
#     data = json.load(f1)
#     d = {i['TypeObject']: f"{i['Name']}, {i['SeatsCount']}" for i
#          in sorted(data, key=lambda x:(x['TypeObject'], x['SeatsCount']))}
#     for item in d.items():
#         print(f'{item[0]}: {item[1]}')
# print(time.perf_counter()-start)
# ###
# import json, time
#
# start = time.perf_counter()
#
# with open('food_services.json', encoding='utf-8') as file:
#     data = json.load(file)
#     res = {}
#     for restaurant in data:
#         if restaurant['TypeObject'] not in res or restaurant['SeatsCount'] > res[restaurant['TypeObject']][1]:
#             res[restaurant['TypeObject']] = (restaurant['Name'], restaurant['SeatsCount'])
#
#     for key, value in sorted(res.items()):
#         print(f'{key}: {value[0]}, {value[1]}')
# print(time.perf_counter() - start)
# ###
# import json,time
# start = time.perf_counter()
#
# with open('food_services.json', encoding='utf-8') as f1:
#     js_lst, itog, f = json.load(f1), {}, lambda x: x[1]
#     for el in js_lst:
#         itog.setdefault(el['TypeObject'], []).append([el["Name"], el["SeatsCount"]])
#
#     for k, v in sorted(itog.items()):
#         print(f'{k}: {max(v, key=f)[0]}, {max(v, key=f)[1]}')
#
# print(time.perf_counter() - start)